<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>Holyshot</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap" rel="stylesheet" />
  <style>
    :root{
      --gold:#c6a87d;
      --muted:#95917a;
      --bg:#0a0909;
      --panel-bg: rgba(0,0,0,0.55);
    }

    html,body { height: 100%; }
    body {
      font-family: 'Vazirmatn', sans-serif;
      background-color: var(--bg);
      color: var(--muted);
      margin: 0;
      padding: 0;
      direction: rtl;
      overflow-x: hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
      padding-bottom:120px; /* جا برای لینک اینستا */
    }

    header{ position: relative; width:100%; overflow:hidden; }
    header img{ width:100%; height:auto; display:block; max-height:60vh; object-fit:cover; filter:brightness(0.6); }

    section { padding:40px 20px; text-align:center; }

    .menu-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(150px,1fr));
      gap:20px;
      padding:40px 20px;
    }
    .menu-item{
      background-color:#95917a;
      border-radius:8px;
      padding:15px;
      text-align:center;
      transition:0.3s;
      color:black;
      font-weight:bold;
    }
    .menu-item:hover{ background-color:#e7f6fc; }
    .cat-item-img{ width:60px; height:60px; object-fit:contain; margin:0 auto 10px; display:block; }

    /* -------------------------
       LAMP (top, big, glowing)
       ------------------------- */
    .lamp-btn{
      position: fixed;
      top: 8px; /* از بالای صفحه شروع */
      left: 50%;
      transform: translateX(-50%);
      width: 200px;      /* اندازه بزرگ‌تر */
      height: 200px;
      padding: 0;
      border: none;
      background: transparent;
      z-index: 10020;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      pointer-events:auto;
      -webkit-tap-highlight-color: transparent;
      animation: lampFloat 6s ease-in-out infinite;
    }

    .lamp-btn img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
      user-select:none;
      pointer-events:none; /* کلیک روی دکمه خود کار می‌کنه */
      filter: drop-shadow(0 0 40px rgba(198,168,125,0.45));
      transition: filter .18s ease, transform .18s ease;
      mix-blend-mode: screen;
      background: transparent;
    }

    /* شدیدترین نور چشمک‌زن */
    @keyframes lampGlow {
      0% { filter: drop-shadow(0 0 30px rgba(198,168,125,0.45)); }
      40% { filter: drop-shadow(0 0 90px rgba(240,231,165,0.95)); }
      70% { filter: drop-shadow(0 0 140px rgba(240,231,165,1)); transform: scale(1.02); }
      100% { filter: drop-shadow(0 0 40px rgba(198,168,125,0.55)); transform: scale(1); }
    }
    /* floating برای لامپ */
    @keyframes lampFloat {
      0% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(6px); }
      100% { transform: translateX(-50%) translateY(0); }
    }
    /* اعمال چشمک زدن با تداخل */
    .lamp-btn.glow img { animation: lampGlow 2.2s infinite ease-in-out; }

    /* -------------------------
       VOICE PANEL (bottom semi-transparent)
       ------------------------- */
    .voice-section{
      position: fixed;
      left: 0;
      bottom: 60px;
      width: 100%;
      max-height: 65vh;
      background: var(--panel-bg);
      color: #eee;
      padding: 36px 48px 44px;
      z-index: 10010;
      box-sizing: border-box;
      border-top: 1px solid rgba(198,168,125,0.15);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      display:flex;
      flex-direction:column;
      align-items:center;
      transition: max-height .55s cubic-bezier(.2,.9,.2,1), padding .4s;
      overflow: hidden;
    }

    .voice-section.closed{
      max-height: 0;
      padding-top:0;
      padding-bottom:0;
      border-top:none;
    }

    .voice-list{
      width:100%;
      list-style:none;
      padding:0;
      margin:0;
      text-align:right;
      max-height: calc(65vh - 120px);
      overflow:auto;
      border-top:1px solid rgba(198,168,125,0.08);
      padding-top:6px; /* فاصله اضافی تا اولین آیتم */
    }

    .voice-list li{
      padding:14px 0 20px;
      border-bottom:1px solid rgba(198,168,125,0.08);
      margin:0;
    }

    .voice-list strong{
      display:block;
      margin-bottom:10px;
      font-size:1.25rem;
      color: var(--gold);
    }

    /* فضای بیشتر برای اولین آیتم تا زیر لامپ احتمالی تداخل نکنه */
    .voice-list li:first-child { padding-top: 18px; }

    /* audio styles */
    audio{
      width:100% !important;
      height:78px;
      border-radius:12px;
      background:#111;
      box-sizing:border-box;
      margin-top:6px;
      outline:none;
      -webkit-appearance: none;
    }

    /* تلاش برای محوتر کردن timeline و ضربان */
    audio::-webkit-media-controls-panel{
      background: rgba(20,20,20,0.82) !important;
      border-radius:12px !important;
      padding:0 6px !important;
      backdrop-filter: blur(4px);
    }
    /* heartbeat effect for timeline (webkit browsers) */
    audio.playing::-webkit-media-controls-timeline,
    audio::-webkit-media-controls-timeline{
      animation: heartbeat 1.4s infinite;
      box-shadow: 0 0 18px rgba(198,168,125,0.35);
      background: rgba(0,0,0,0.45) !important;
      border-radius:8px;
    }
    @keyframes heartbeat{
      0% { box-shadow: 0 0 6px rgba(198,168,125,0.2); }
      50% { box-shadow: 0 0 28px rgba(240,231,165,0.9); }
      100% { box-shadow: 0 0 6px rgba(198,168,125,0.2); }
    }

    /* arrows (bigger) */
    .arrow-up-btn, .arrow-down-btn{
      position: fixed;
      left:50%;
      transform: translateX(-50%);
      z-index:10015;
      background:transparent;
      border:none;
      cursor:pointer;
      padding:8px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .arrow-up-btn{ bottom: 150px; display:none; }
    .arrow-down-btn{ bottom:74px; }

    .arrow-up-btn svg, .arrow-down-btn svg{
      width:64px; height:64px; fill:var(--muted);
      filter: drop-shadow(0 0 10px rgba(150,145,122,0.45));
    }
    .arrow-up-btn:hover svg, .arrow-down-btn:hover svg{
      filter: drop-shadow(0 0 26px rgba(240,231,165,0.95));
    }

    /* insta link bottom center */
    .insta-link{
      position: fixed;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%);
      z-index:10030;
      color: var(--gold);
      font-weight:700;
      font-size:1.15rem;
      text-decoration:none;
      padding:6px 12px;
      border-radius:18px;
      background: rgba(0,0,0,0.18);
      backdrop-filter: blur(6px);
      box-shadow:0 6px 18px rgba(0,0,0,.5);
    }

    /* footer removed (we left only insta link) */

    @media (max-width:480px){
      .lamp-btn{ width:120px; height:120px; top:6px; }
      .lamp-btn img{ filter: drop-shadow(0 0 26px rgba(198,168,125,0.45)); }
      .voice-section{ padding:22px 18px 30px; bottom:60px; max-height:55vh; }
      audio{ height:66px; }
      .arrow-up-btn{ bottom:110px; }
      .arrow-down-btn{ bottom:70px; }
      .arrow-up-btn svg, .arrow-down-btn svg{ width:48px; height:48px; }
      .insta-link{ font-size:1rem; bottom:12px; }
    }
  </style>
</head>
<body>

  <!-- LAMP (use your PNG with transparent background) -->
  <button id="lampBtn" class="lamp-btn glow" aria-expanded="true" aria-controls="voice-panel" title="باز و بسته کردن نوار صدا">
    <img src="https://i.postimg.cc/j5hwpLCC/56-561430-lamp-modern-ceiling-lamp-png-clipart.png" alt="لامپ" />
  </button>

  <!-- VOICE PANEL (پایین صفحه، نیمه شفاف) -->
  <section id="voice-panel" class="voice-section" aria-hidden="false">
    <ul class="voice-list" id="voiceList">
      <li>
        <strong>متن ویس</strong> — ۱۰ مرداد ۱۴۰۴
        <audio controls preload="none" controlslist="nodownload">
          <source src="https://dl.rozmusic.com/Music/1403/12/24/Sohrab%20Pakzad%20-%20110%20Ta%20%28128%29.mp3" type="audio/mpeg" />
          مرورگر شما از پخش صوت پشتیبانی نمی‌کند.
        </audio>
      </li>
      <li>
        <strong>متن ویس</strong> — ۲۵ تیر ۱۴۰۴
        <audio controls preload="none" controlslist="nodownload">
          <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg" />
        </audio>
      </li>
      <li>
        <strong>متن ویس</strong> — ۵ مرداد ۱۴۰۴
        <audio controls preload="none" controlslist="nodownload">
          <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" type="audio/mpeg" />
        </audio>
      </li>
    </ul>
  </section>

  <!-- Arrows -->
  <button id="arrowUpBtn" class="arrow-up-btn" aria-label="باز کردن نوار صدا" style="display:none;">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/></svg>
  </button>

  <button id="arrowDownBtn" class="arrow-down-btn" aria-label="بستن نوار صدا">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6z"/></svg>
  </button>

  <!-- Insta fixed bottom center -->
  <a class="insta-link" href="https://www.instagram.com/cafe_holyshot/" target="_blank" rel="noopener noreferrer">@cafe_holyshot</a>

  <!-- Page content -->
  <header>
    <img src="https://i.postimg.cc/qRvkzHfR/IMG-3551.jpg" alt="کافه Holyshot" />
  </header>

  <section>
    <p>جایی برای تجربه‌ی طعم‌های خاص و لحظات ناب</p>
  </section>
  <section class="menu-grid">
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/vH9Vtfjs/3.png" class="cat-item-img" alt="قهوه دمی" />قهوه دمی</div>
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/4x2sKF5N/9.png" class="cat-item-img" alt="چای و دمنوش" />چای و دمنوش</div>
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/d1rYxQKL/10.png" class="cat-item-img" alt="کیک و دسر" />کیک و دسر</div>
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/pV3jjqsC/2.png" class="cat-item-img" alt="نوشیدنی سرد" />نوشیدنی سرد</div>
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/7ZKY3Lx4/8.png" class="cat-item-img" alt="بستنی" />بستنی</div>
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/nctzZ5dy/6.png" class="cat-item-img" alt="میلک‌شیک" />میلک‌شیک</div>
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/FHVk2mNC/4.png" class="cat-item-img" alt="اسموتی" />اسموتی</div>
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/GpStCmNK/5.png" class="cat-item-img" alt="ماکتیل" />ماکتیل</div>
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/pV3jjqsC/2.png" class="cat-item-img" alt="نوشیدنی سنتی" />نوشیدنی سنتی</div>
    <div class="menu-item"><img decoding="async" loading="lazy" src="https://i.postimg.cc/qMCRdrXX/1.png" class="cat-item-img" alt="نوشیدنی گرم" />نوشیدنی گرم</div>
  </section>


  <script>
    const lampBtn = document.getElementById('lampBtn');
    const voicePanel = document.getElementById('voice-panel');
    const arrowUpBtn = document.getElementById('arrowUpBtn');
    const arrowDownBtn = document.getElementById('arrowDownBtn');
    const audios = document.querySelectorAll('audio');

    // پیش‌فرض: پنل باز باشه
    voicePanel.classList.remove('closed');
    arrowUpBtn.style.display = 'none';
    arrowDownBtn.style.display = 'flex';
    lampBtn.setAttribute('aria-expanded', 'true');

    function setPanelState(open){
      if(open){
        voicePanel.classList.remove('closed');
        voicePanel.setAttribute('aria-hidden','false');
        arrowDownBtn.style.display='flex';
        arrowUpBtn.style.display='none';
        lampBtn.setAttribute('aria-expanded','true');
        lampBtn.classList.add('glow'); // چشمک روشن
      }else{
        voicePanel.classList.add('closed');
        voicePanel.setAttribute('aria-hidden','true');
        arrowDownBtn.style.display='none';
        arrowUpBtn.style.display='flex';
        lampBtn.setAttribute('aria-expanded','false');
        lampBtn.classList.remove('glow'); // خاموش‌تر وقتی بسته
      }
    }

    function togglePanel(){ setPanelState( voicePanel.classList.contains('closed') ); }

    lampBtn.addEventListener('click', togglePanel);
    arrowUpBtn.addEventListener('click', togglePanel);
    arrowDownBtn.addEventListener('click', togglePanel);

    // وقتی هر audio در حال پخش است، کلاس playing بزنیم (برای افکت ضربان)
    audios.forEach(a=>{
      a.addEventListener('play', ()=> a.classList.add('playing'));
      a.addEventListener('pause', ()=> a.classList.remove('playing'));
      a.addEventListener('ended', ()=> a.classList.remove('playing'));
    });

    // نقطه: اگر خواستی پنل با کشیدن (drag) باز/بسته بشه، می‌تونم اضافه کنم — الان با کلیک کار می‌کنه.
  </script>

</body>
</html>
